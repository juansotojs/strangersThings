{"version":3,"sources":["components/addPost.js","components/posts.js","components/home.js","components/profile.js","components/login.js","components/messages.js","components/messageList.js","index.js"],"names":["AddPost","props","useState","title","setTitle","description","setDescription","price","setPrice","location","setLocation","setPosts","token","history","useHistory","getPosts","a","fetch","headers","then","response","json","result","data","posts","catch","console","error","className","onSubmit","event","preventDefault","method","body","JSON","stringify","post","willDeliver","push","type","placeholder","value","onChange","target","Posts","setCode","code","setId","useEffect","handleDelete","id","to","exact","path","map","idx","author","username","isAuthor","onClick","_id","Home","Profile","Login","setUsername","password","setPassword","setToken","user","log","success","Messages","setComment","comment","handleMessage","message","content","MessageList","messageArr","messages","fromUser","App","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ac76778e.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nconst AddPost = (props) => {\n    const [title, setTitle] = useState('');\n    const [description, setDescription] = useState('');\n    const [price, setPrice] = useState('');\n    const [location, setLocation] = useState('');\n    const setPosts = props.setPosts;\n    const token = props.token;\n    let history = useHistory();\n\n    async function getPosts() {\n        fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts', {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n        }).then(response => response.json())\n          .then(result => {\n            setPosts(result.data.posts);\n          })\n          .catch(console.error);\n  \n          //const request = await fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts');\n          //const response = await request.json();\n          //setPosts(response.data.posts);\n      }\n\n    return <>\n        <div className=\"card\">\n            <div className='newPost'>\n                <form onSubmit={ async (event) => {\n                    await event.preventDefault();\n                    fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts', {\n                        method: \"POST\",\n                        headers: {\n                            'Content-Type': 'application/json',\n                            'Authorization': `Bearer ${token}`\n                        },\n                        body: JSON.stringify({\n                            post: {\n                                title: title,\n                                description: description,\n                                price: price,\n                                willDeliver: true\n    }\n  })\n}).then(response => response.json())\n  .then(result => {\n    getPosts();\n  })\n  .catch(console.error);\n\n  history.push(\"/posts\");          \n            }}>\n                    <input type='text' placeholder=\"Title\" value={title} onChange={(event) => setTitle(event.target.value)}></input>\n                    <input type='text' placeholder=\"Description\" value={description} onChange={(event) => setDescription(event.target.value)}></input>\n                    <input type='text' placeholder=\"Price\" value={price} onChange={(event) => setPrice(event.target.value)}></input>\n                    <input type='text' placeholder=\"Location\" value={location} onChange={(event) => setLocation(event.target.value)}></input>\n                    <button className=\"messageBttn\">Add Post</button>\n                    \n                </form>\n            </div>\n        </div>\n      </>\n}\n\nexport default AddPost;","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport AddPost from './addPost';\nimport { useHistory } from \"react-router-dom\";\n\n\nconst Posts = (props) => {\n    const posts = props.posts;\n    const setPosts = props.setPosts;\n    const token = props.token;\n    const code = props.code;\n    const setCode = props.setCode;\n    const setId = props.setId;\n    let history = useHistory();\n    async function getPosts() {\n      fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n      }).then(response => response.json())\n        .then(result => {\n          setPosts(result.data.posts);\n        })\n        .catch(console.error);\n\n        //const request = await fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts');\n        //const response = await request.json();\n        //setPosts(response.data.posts);\n    }\n    useEffect(() => getPosts(), []);\n\n    const handleDelete = async (id) => {\n      fetch(`https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        }\n          }).then(response => response.json())\n          .then(result => {\n            getPosts();\n        })\n        .catch(console.error);\n\n         }\n    \n    return <>\n    <BrowserRouter>\n    <div className='posts'>\n      <div className='status'>\n        <h1>Posts</h1>\n        <input type='text' placeholder='Search post'></input>\n        { token ? \n        <div className='link'>\n        <Link to='/posts/newpost' className='aType'>Add Post</Link>\n      </div>\n       : null}\n      </div>\n\n      <Route exact path=\"/posts\">\n      <div className=\"cards\">\n      {posts.map((post, idx) => \n        <div key={idx} className=\"card\">\n          <div className='card-info'>\n          <h2>{post.title}</h2>\n          <div className=\"info\">\n          <p className=\"descr\">{post.description}</p>\n          <div className=\"subInfo\">\n          <h3>Price: </h3><p className=\"infoVal\">{post.price}</p></div>\n          <div className=\"subInfo\">\n          <h3>Seller: </h3> <p className=\"infoVal\">{post.author.username}</p></div>\n          <div className=\"subInfo\">\n          <h3>Location: </h3> <p className=\"infoVal\">{post.location}</p></div>\n          </div>\n          { token && !post.isAuthor ? <button className='messageBttn' onClick={() => {\n            history.push(\"/messages\");\n            setCode(post._id);\n            }}\n            >SEND MESSAGE</button> : null}\n          { token && post.isAuthor ? <button className='messageBttn' onClick={() => {\n            history.push(\"/list_of_messages\");\n            setId(idx);\n            }}\n            >SEE MESSAGES</button> : null }\n          { token  && post.isAuthor ? <button className='messageBttn' onClick={() => handleDelete(post._id)}>DELETE</button> : null}\n          </div>\n        </div>\n      )}\n    </div>\n    </Route>\n    \n    <Route exact path=\"/posts/newpost\">\n    <div className=\"cards\">\n      <AddPost token={token} setPosts={setPosts}/>\n    </div>\n    </Route>\n    </div>\n    </BrowserRouter>\n    </>\n}\n\nexport default Posts;","import React, { useEffect, useState } from 'react';\n\nconst Home = (props) => {\n    const token = props.token;\n    return <>\n    <div className='posts'>\n      <div className='status'>\n    <h1 className='section'>Home</h1>\n    </div>\n    <div className=\"cards\">\n        <div className=\"card\">\n            <h1>Welcome to Strangers Things!</h1> \n            <p>Please login or register.</p>\n        </div>\n    </div>\n    </div>\n      </>\n}\n\nexport default Home;","import React, { useEffect, useState } from 'react';\n\nconst Profile = (props) => {\n    \n    return <>\n    <div className='posts'>\n        <div className='status'>\n    <h1 className='section'>Profile</h1>\n    </div>\n    <div className=\"cards\">\n        <div className=\"card\">\n            <h1>Login to view profile</h1> \n            <p>Please login or register.</p>\n        </div>\n    </div>\n    </div>\n      </>\n}\n\nexport default Profile;","import React, { useEffect, useState } from 'react';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = (props) => {\n  const username = props.username;\n  const setUsername = props.setUsername;\n  const password = props.password;\n  const setPassword = props.setPassword;\n  const setToken = props.setToken;\n  const token = props.token;\n  let history = useHistory();\n    const existing = (props) => {\n      fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/users/login', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n        user: {\n          username: username,\n          password: password\n      }\n    })\n  }).then(response => response.json())\n    .then(result => {\n     setToken(result.data.token);\n     history.push(\"/home\");\n   })\n  .catch(console.error);\n  }\n    const register = (props) => {\n      fetch('https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/users/register', {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n        user: {\n          username: username,\n          password: password\n    }\n  })\n      }).then(response => response.json())\n          .then(result => {\n           console.log('register');\n           if(result.success === true){\n             setToken(result.data.token);\n             history.push(\"/home\");\n           } \n          })\n            //.catch(console.error);\n            //console.log(results);\n    }\n    return <> \n    <BrowserRouter>\n    <div className='posts'>\n      <div className='status'>\n    <h1 className='section'>Login/Register</h1>\n    </div>\n    <div className=\"cards\">\n        <div className=\"card\">\n        <div className=\"toggle\">\n        <Link to='/login/signin' className=\"opt\">Login</Link>\n        <Link to='/login/register' className=\"opt\">Register</Link>\n        </div>\n        <div>\n        <Route exact path=\"/login/register\">\n          <div className=\"card-info\">\n        <form className='field' onSubmit={ async (event) => {\n            await event.preventDefault();\n            await register();\n            setUsername('');\n            setPassword('');\n            }}>\n          <div className=\"usernameInput\">\n            <p>Username</p>\n            <input type =\"text\" placeholder=\"Username\" className=\"txtBox\" value={username} onChange={(event) => setUsername(event.target.value)}></input>\n          </div>\n          <div className=\"passwordInput\">\n              <p>Password</p>\n            <input type =\"password\" placeholder=\"Password\" className=\"txtBox\" value={password} onChange={(event) => setPassword(event.target.value)}></input>\n          </div>\n          <p className=\"youAgree\">By submitting this form I agree to the terms and conditions.</p>\n          <button type=\"submit\" className=\"loginBttn\">REGISTER</button>\n          </form>\n          </div>\n        </Route>\n        <Route exact path=\"/login/signin\">\n        <form className='field' onSubmit={ async (event) => {\n            await event.preventDefault();\n            await existing();\n            setUsername('');\n            setPassword('');\n            }}>\n          <div className=\"fillOut\">\n          <div className=\"usernameInput\">\n            <p>Username</p>\n            <input type =\"text\" placeholder=\"Username\" className=\"txtBox\" value={username} onChange={(event) => setUsername(event.target.value)}></input>\n          </div>\n          <div className=\"passwordInput\">\n              <p>Password</p>\n            <input type =\"password\" placeholder=\"Password\" className=\"txtBox\" value={password} onChange={(event) => setPassword(event.target.value)}></input>\n          </div>\n          <p className=\"youAgree\">By submitting this form I agree to the terms and conditions.</p>\n          <button type=\"submit\" className=\"loginBttn\">LOGIN</button>\n          </div>\n          </form>\n        </Route>\n        </div>\n          </div>\n    </div>\n    </div>\n      </BrowserRouter>\n      </>\n}\n\nexport default Login;","\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\n\nconst Messages = (props) => {\n    const token = props.token;\n    const setComment = props.setComment;\n    const comment = props.comment;\n    const code = props.code;\n    let history = useHistory();\n    \n    const handleMessage = async (id) => {\n        fetch(`https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT/posts/${id}/messages`, {\n          method: \"POST\",\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n           },\n          body: JSON.stringify({\n          message: {\n            content: `${comment}`\n          }\n      })\n        }).then(response => response.json())\n        .then(result => {\n         console.log(result);\n        })\n        .then(setComment(''))\n        .then(history.push(\"/posts\"))\n      }\n\n    return <>\n    <div className=\"cards\">\n        <div className=\"card\">\n            <div className='card-info'>\n                <input type='text' placeholder=\"Message\" value={comment} onChange={(event) => setComment(event.target.value)}></input>\n                <button className=\"messageBttn\" onClick={() => handleMessage(code)}>SEND</button>\n            </div>\n         </div>\n    </div>\n      </>\n}\n\nexport default Messages;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\n\n\nconst MessageList = (props) => {\n    const posts = props.posts\n    const id = props.id;\n        let post = posts[id];\n        let messageArr = post.messages;\n\n    return <>\n    <div className=\"status\">\n    <h1>Messages</h1>\n    </div>\n    <div className=\"cards\">\n    <div className=\"card\">\n    {messageArr.map((message, idx) => \n        \n          <div className='card-info'>\n              <h2>{message.fromUser.username}</h2>\n              <span></span>\n              <h3>{message.content}</h3>\n          \n        </div>\n      )}\n    </div>\n    </div>\n      </>\n}\n\nexport default MessageList;\n\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\nimport Posts from './components/posts';\nimport Home from './components/home';\nimport Profile from './components/profile';\nimport Login from './components/login';\nimport Messages from './components/messages';\nimport MessageList from './components/messageList';\n\n\nconst App = () => {\n  const [posts, setPosts] = useState([]);\n  const [token, setToken] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [comment, setComment] = useState('');\n  const [code, setCode] = useState('');\n  const [id, setId] = useState('');\n  \n  return <>\n  <BrowserRouter>\n  <div className='container'>\n  <div className='dashboard'>\n    <div className='user'>\n    <h3>User Name</h3>\n    <p>Pro Member</p>\n    </div>\n    <div className='links'>\n      <div className='link'>\n        <Link to='/home' className='aType'>Home</Link>\n      </div>\n      <div className='link'>\n        <Link to='/posts' className='aType'>Posts</Link>\n      </div>\n      <div className='link'>\n        <Link to='/profile' className='aType'>Profile</Link>\n      </div>\n      <div className='link'>\n        { token ? <a href=\"#\"  onClick={(event) => {\n        event.preventDefault();\n        setToken('')}}>Logout</a> : <Link to='/login' className='lText'>Login</Link>}\n      </div>\n    </div>\n    <div className='pro'>\n      <h2 className='ad'>Sign up to create a post.</h2>\n    </div>\n  </div>\n    <Route exact path=\"/posts\"> \n      <Posts id={id} setId={setId} posts={posts} setPosts={setPosts} token={token} code={code} setCode={setCode} />\n    </Route>\n    <Route exact path=\"/home\">\n      <Home token={token}/>\n    </Route>\n    <Route exact path=\"/profile\">\n      <Profile/>\n    </Route>\n    <Route exact path=\"/login\">\n      <Login setPassword={setPassword} password={password} setUsername={setUsername} username={username} setToken={setToken} token={token}/>\n    </Route>\n    <Route exact path=\"/messages\">\n          <Messages token={token} setComment={setComment} comment={comment} code={code} setCode={setCode} />\n    </Route>\n    <Route exact path=\"/list_of_messages\">\n       <MessageList id={id} setId={setId} posts={posts} setPosts={setPosts} />\n    </Route>\n  </div>\n  </BrowserRouter>\n  \n  </>\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('app'),\n);\n"],"sourceRoot":""}